version: '3.8'

services:
  backend:
    build: .
    container_name: medgemma-backend
    ports:
      - "8000:8000"
    volumes:
      - .:/app
    environment:
      - GEMINI_API_KEY=${GEMINI_API_KEY}
      - HF_TOKEN=${HF_TOKEN}
      # If you want to use the local model requested
      - FORCE_LOCAL_MODEL=false 
    restart: always

  # Optional: Serve frontend via Nginx or similar if needed, 
  # but 'npm run dev' is usually preferred for dev.
  # We can add a simple node service if they want full stack.
